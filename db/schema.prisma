datasource db {
    provider = "postgresql"
}

model Asset {
    id        String   @id @db.VarChar(64)
    name      String   @unique
    createdAt DateTime @default(now())
    updatedAt DateTime @updatedAt
    placables Model[]
}

model Model {
    id           Int         @id @default(autoincrement())
    createdAt    DateTime    @default(now())
    updatedAt    DateTime    @updatedAt
    assetId      String
    asset        Asset       @relation(fields: [assetId], references: [id])
    positionX    Float
    positionY    Float
    positionZ    Float
    rotationX    Float
    rotationY    Float
    rotationZ    Float
    scaleFactor  Float
    WorldModel   WorldModel? @relation(fields: [worldModelId], references: [id])
    worldModelId Int?
    Chunk        Chunk?      @relation(fields: [chunkId], references: [id])
    chunkId      Int?
}

model WorldModel {
    id               Int                @id @default(autoincrement())
    createdAt        DateTime           @default(now())
    updatedAt        DateTime           @updatedAt
    models           Model[]
    WorldModelObject WorldModelObject[]
}

model WorldModelObject {
    id           Int        @id @default(autoincrement())
    createdAt    DateTime   @default(now())
    updatedAt    DateTime   @updatedAt
    positionX    Float
    positionY    Float
    positionZ    Float
    rotationX    Float
    rotationY    Float
    rotationZ    Float
    worldModelId Int
    worldModel   WorldModel @relation(fields: [worldModelId], references: [id])
    Chunk        Chunk?     @relation(fields: [chunkId], references: [id])
    chunkId      Int?
}

model Chunk {
    id           Int                @id @default(autoincrement())
    createdAt    DateTime           @default(now())
    updatedAt    DateTime           @updatedAt
    models       Model[]
    worldObjects WorldModelObject[]
}
